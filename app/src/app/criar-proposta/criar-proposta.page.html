<ion-content>
    <app-header-simples title="Criar proposta"></app-header-simples>
    <div class="content">
        <div class="dados_cliente">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="26.999" height="27" viewBox="0 0 26.999 27"><g id="user_1_" data-name="user (1)" transform="translate(0 0)"><path id="Caminho_594" data-name="Caminho 594" d="M14.112,25.093l-4.028,2.2a3.62,3.62,0,0,0-.646.46,13.491,13.491,0,0,0,17.334.045,3.574,3.574,0,0,0-.71-.476l-4.313-2.156a1.645,1.645,0,0,1-.909-1.471V22a6.515,6.515,0,0,0,.408-.525,9.925,9.925,0,0,0,1.341-2.7,1.355,1.355,0,0,0,.961-1.289V15.677a1.349,1.349,0,0,0-.451-1V12.065S23.633,8,18.13,8s-4.967,4.064-4.967,4.064v2.611a1.347,1.347,0,0,0-.451,1v1.806a1.354,1.354,0,0,0,.625,1.137A8.964,8.964,0,0,0,14.969,22V23.65A1.647,1.647,0,0,1,14.112,25.093Z" transform="translate(-4.629 -3.925)" fill="#fff"/><g id="Grupo_262" data-name="Grupo 262" transform="translate(0 0)"><path id="Caminho_595" data-name="Caminho 595" d="M13.731,0A13.491,13.491,0,0,0,4.813,23.821a3.587,3.587,0,0,1,.64-.455l4.028-2.2a1.646,1.646,0,0,0,.857-1.444V18.074a8.956,8.956,0,0,1-1.633-3.379,1.355,1.355,0,0,1-.625-1.137V11.752a1.349,1.349,0,0,1,.451-1V8.139S8,4.075,13.5,4.075s4.967,4.064,4.967,4.064v2.611a1.347,1.347,0,0,1,.451,1v1.806a1.355,1.355,0,0,1-.961,1.289,9.925,9.925,0,0,1-1.341,2.7,6.515,6.515,0,0,1-.408.525v1.692a1.644,1.644,0,0,0,.909,1.471l4.313,2.156a3.592,3.592,0,0,1,.708.475A13.5,13.5,0,0,0,13.731,0Z" transform="translate(0 0)" fill="#772e8a"/></g></g></svg>                dados do cliente
            </h2>
            <div class="item">
                <input type="text" placeholder=" " [(ngModel)]='data.nome'>
                <label class="placeholder">Nome <sup>*</sup></label>
            </div>
            <div class="item">
                <input mask="(99) 99999-9999" type="tel" placeholder=" " [(ngModel)]='data.telefone'>
                <label class="placeholder">Telefone <sup>*</sup></label>
            </div>
            <div class="item">
                <input type="email" placeholder=" " [(ngModel)]='data.email'>
                <label class="placeholder">E-mail <sup>*</sup></label>
            </div>
        </div>
        <div class="dados_pet" *ngFor="let pet of pets; let i = index">
            <h2 (click)="open_modal_verifica_associado()">
                <svg xmlns="http://www.w3.org/2000/svg" width="28.114" height="24.571" viewBox="0 0 28.114 24.571"><g id="pawprint" transform="translate(0 0)"><path id="Caminho_596" data-name="Caminho 596" d="M79.72,185.1a6.845,6.845,0,0,0-11.527,0l-3.048,4.756a4.333,4.333,0,0,0,5.392,6.3l.057-.026a8.518,8.518,0,0,1,6.782.026,4.309,4.309,0,0,0,1.739.368,4.364,4.364,0,0,0,.97-.11,4.333,4.333,0,0,0,2.684-6.563Zm0,0" transform="translate(-60.92 -171.959)" fill="#772e8a"/><path id="Caminho_597" data-name="Caminho 597" d="M5.045,106.6a3.323,3.323,0,0,0,1.94-2.058,4.293,4.293,0,0,0-.076-2.961,4.3,4.3,0,0,0-1.929-2.247,3.323,3.323,0,0,0-2.818-.227A3.805,3.805,0,0,0,.3,104.127a4.014,4.014,0,0,0,3.61,2.684,3.147,3.147,0,0,0,1.135-.21Zm0,0" transform="translate(0 -93.464)" fill="#772e8a"/><path id="Caminho_598" data-name="Caminho 598" d="M128.543,9.411a4.451,4.451,0,0,0,4.13-4.7,4.165,4.165,0,1,0-8.259,0A4.45,4.45,0,0,0,128.543,9.411Zm0,0" transform="translate(-117.583)" fill="#772e8a"/><path id="Caminho_599" data-name="Caminho 599" d="M286.682,48.609h0a3.366,3.366,0,0,0,1.063.172,4.28,4.28,0,0,0,3.9-3.066,4.614,4.614,0,0,0-.066-3.183,3.491,3.491,0,0,0-5.175-1.72,4.615,4.615,0,0,0-1.958,2.51,4.082,4.082,0,0,0,2.239,5.287Zm0,0" transform="translate(-268.59 -38.042)" fill="#772e8a"/><path id="Caminho_600" data-name="Caminho 600" d="M382.838,171.679h0a4.047,4.047,0,0,0-4.777,6.454,3.228,3.228,0,0,0,1.939.626,4.175,4.175,0,0,0,3.3-1.746A3.807,3.807,0,0,0,382.838,171.679Zm0,0" transform="translate(-356.049 -161.661)" fill="#772e8a"/></g></svg>                dados do pet <b (click)="removePet(i)" *ngIf="i > 0" style="float: right;">X</b>
            </h2>
            <div class="item">
                <input type="text" placeholder=" " [(ngModel)]='pet.nome'>
                <label class="placeholder">Nome do Pet <sup>*</sup></label>
            </div>
            <div class="item">
                <select [attr.data-value]="pet.id_especie" [(ngModel)]='pet.id_especie' (change)="selectRaca(pet.id_especie)">
                    <option value="undefined" hidden></option>
                    <option *ngFor="let especie of especie" [ngValue]="especie.id">{{especie.titulo}}</option>
                </select>
                <label class="placeholder">Espécie <sup>*</sup></label>
            </div>
            <div class="item">
                <select [attr.data-value]="pet.id_raca" [(ngModel)]='pet.id_raca'>
                    <option value="undefined" hidden></option>
                    <option *ngFor="let racas of raca" [ngValue]="racas.id" >{{racas.titulo}}</option>
                </select>
                <label class="placeholder">Raça <sup>*</sup></label>
            </div>
            <div class="item">
                <select [attr.data-value]="pet.sexo" [(ngModel)]='pet.sexo'>
                    <option value="undefined" hidden ></option>
                    <option value="Macho">Macho</option>
                    <option value="Femea">Femea</option>
                </select>
                <label class="placeholder">Sexo <sup>*</sup></label>
            </div>
            <div class="item">
                <select [attr.data-value]="pet.porte" [(ngModel)]='pet.porte'>
                    <option value="undefined" hidden></option>
                    <option value="grande">Grande</option>
                    <option value="medio">Médio</option>
                    <option value="pequeno">Pequeno</option>
                </select>
                <label class="placeholder">Porte <sup>*</sup></label>
            </div>

            <div class="item">
                <input type="tel" mask="99.99" placeholder="00.00" [(ngModel)]='pet.peso'>
                <label class="placeholder">Peso <small>(Kg)</small></label>
            </div>

            <div class="item">
                <input type="text" placeholder=" " [(ngModel)]='pet.cor'>
                <label class="placeholder">Cor</label>
            </div>

            <div class="item plano">
                <select [attr.data-value]="pet.id_plano" [(ngModel)]='pet.id_plano'>
                    <option value="undefined" hidden></option>
                    <option *ngFor="let plano of planos" [ngValue]="plano.id" >{{plano.titulo}} - {{plano.valor}}</option>
                </select>
                <label class="placeholder">Selecione o plano <sup>*</sup></label>
            </div>
        </div>
        <button class="adicionar_pet" (click)="addPet()">
            <svg xmlns="http://www.w3.org/2000/svg" width="27" height="33" viewBox="0 0 27 33"><g id="Grupo_328" data-name="Grupo 328" transform="translate(1067 -1385)"><circle id="Elipse_67" data-name="Elipse 67" cx="13.5" cy="13.5" r="13.5" transform="translate(-1067 1389)" fill="#00c656"/><text id="_" data-name="+" transform="translate(-1060 1411)" fill="#fff" font-size="24" font-family="OpenSans-Regular, Open Sans" letter-spacing="0.03em"><tspan x="0" y="0">+</tspan></text></g></svg>
            Adicionar pet
        </button>
        <button class="gerar_proposta" [attr.data-load]="load ? 'on' : ''" (click)="cadastra_proposta()">Gerar proposta</button>
    </div>
</ion-content>
<ion-content>
	<app-header-simples title="Vistoria" ></app-header-simples>
	<div class="content">
		<div class="info_content">
			<div class="item"> <span class="title">Nome do pet:</span> {{data?.pet?.nome}} </div>
			<div class="item"> <span class="title">Plano:</span> {{data?.plano?.titulo}} </div>
			<div class="item"> <span class="title">Vistoria:</span> {{data?.vistoria?.descricao}} </div>
			<button class="compartilhar" style="display:none"> <svg height="512pt" viewBox="-21 0 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg" style="fill: #ffffff"> <path d="m453.332031 85.332031c0 38.292969-31.039062 69.335938-69.332031 69.335938s-69.332031-31.042969-69.332031-69.335938c0-38.289062 31.039062-69.332031 69.332031-69.332031s69.332031 31.042969 69.332031 69.332031zm0 0" /> <path d="m384 170.667969c-47.0625 0-85.332031-38.273438-85.332031-85.335938 0-47.058593 38.269531-85.332031 85.332031-85.332031s85.332031 38.273438 85.332031 85.332031c0 47.0625-38.269531 85.335938-85.332031 85.335938zm0-138.667969c-29.417969 0-53.332031 23.9375-53.332031 53.332031 0 29.398438 23.914062 53.335938 53.332031 53.335938s53.332031-23.9375 53.332031-53.335938c0-29.394531-23.914062-53.332031-53.332031-53.332031zm0 0" /> <path d="m453.332031 426.667969c0 38.289062-31.039062 69.332031-69.332031 69.332031s-69.332031-31.042969-69.332031-69.332031c0-38.292969 31.039062-69.335938 69.332031-69.335938s69.332031 31.042969 69.332031 69.335938zm0 0" /> <path d="m384 512c-47.0625 0-85.332031-38.273438-85.332031-85.332031 0-47.0625 38.269531-85.335938 85.332031-85.335938s85.332031 38.273438 85.332031 85.335938c0 47.058593-38.269531 85.332031-85.332031 85.332031zm0-138.667969c-29.417969 0-53.332031 23.9375-53.332031 53.335938 0 29.394531 23.914062 53.332031 53.332031 53.332031s53.332031-23.9375 53.332031-53.332031c0-29.398438-23.914062-53.335938-53.332031-53.335938zm0 0" /> <path d="m154.667969 256c0 38.292969-31.042969 69.332031-69.335938 69.332031-38.289062 0-69.332031-31.039062-69.332031-69.332031s31.042969-69.332031 69.332031-69.332031c38.292969 0 69.335938 31.039062 69.335938 69.332031zm0 0" /> <path d="m85.332031 341.332031c-47.058593 0-85.332031-38.269531-85.332031-85.332031s38.273438-85.332031 85.332031-85.332031c47.0625 0 85.335938 38.269531 85.335938 85.332031s-38.273438 85.332031-85.335938 85.332031zm0-138.664062c-29.417969 0-53.332031 23.933593-53.332031 53.332031s23.914062 53.332031 53.332031 53.332031c29.421875 0 53.335938-23.933593 53.335938-53.332031s-23.914063-53.332031-53.335938-53.332031zm0 0" /> <path d="m135.703125 245.761719c-7.425781 0-14.636719-3.863281-18.5625-10.773438-5.824219-10.21875-2.238281-23.253906 7.980469-29.101562l197.949218-112.851563c10.21875-5.867187 23.253907-2.28125 29.101563 7.976563 5.824219 10.21875 2.238281 23.253906-7.980469 29.101562l-197.953125 112.851563c-3.328125 1.898437-6.953125 2.796875-10.535156 2.796875zm0 0" /> <path d="m333.632812 421.761719c-3.585937 0-7.210937-.898438-10.539062-2.796875l-197.953125-112.851563c-10.21875-5.824219-13.800781-18.859375-7.976563-29.101562 5.800782-10.238281 18.855469-13.84375 29.097657-7.976563l197.953125 112.851563c10.21875 5.824219 13.800781 18.859375 7.976562 29.101562-3.945312 6.910157-11.15625 10.773438-18.558594 10.773438zm0 0" /> </svg> Compartilhar com associado </button>
		</div>
		<div class="item_content">
			<h2>
				<svg class="camera" xmlns="http://www.w3.org/2000/svg" width="21.933" height="19.192" viewBox="0 0 21.933 19.192"> <path id="Caminho_25" data-name="Caminho 25" d="M187.843,199.236a2.742,2.742,0,1,1-3.877,0,2.742,2.742,0,0,1,3.877,0" transform="translate(-174.938 -190.894)" fill="#772e8a" /> <path id="Caminho_26" data-name="Caminho 26" d="M19.191,33.264H17.3l-1.372-2.742H6.006l-1.37,2.743-1.892,0a2.747,2.747,0,0,0-2.737,2.74L0,46.972a2.745,2.745,0,0,0,2.742,2.742h16.45a2.744,2.744,0,0,0,2.742-2.742V36.005A2.744,2.744,0,0,0,19.191,33.264ZM10.966,46.287A5.483,5.483,0,1,1,16.45,40.8a5.49,5.49,0,0,1-5.483,5.483Z" transform="translate(0 -30.522)" fill="#772e8a" /> </svg>
				Adicionar fotos
			</h2>
			<div class="images">
				<div class="item" *ngFor="let row of data?.items" >
					<label (click)="captureVistoria(row)" class="adicionar_imagem" unselect>+</label>
					<div (click)="captureVistoria(row)" [attr.reprovado]="row.aprovado === 0" class="imagem" style="background-image: url('{{row.imagem}}');" [attr.data-status]="checkStatus(row)"></div>
					<p class="nome">{{row.descricao}}<label class="required_item" *ngIf="row.required == 1">*</label></p>
					<button class="referencia" (click)="open_referencia(row)">Referência</button>
				</div>
			</div>
			<h2 class="anexo" (click)="adicionaAnexo()">
				<svg xmlns="http://www.w3.org/2000/svg" width="21.729" height="20.67" viewBox="0 0 21.729 20.67"> <g id="paper-clip" transform="translate(0 -11.486)"> <g id="Grupo_192" data-name="Grupo 192" transform="translate(0 11.486)"> <path id="Caminho_514" data-name="Caminho 514" d="M19.887,13.233a6.126,6.126,0,0,0-8.569,0L1.332,23.22a4.678,4.678,0,0,0,6.616,6.616l9.042-9.042a3.01,3.01,0,0,0-4.257-4.257L4.084,25.185A.786.786,0,0,0,5.2,26.3l8.649-8.649a1.438,1.438,0,0,1,2.033,2.033L6.836,28.723a3.106,3.106,0,0,1-4.392-4.392l9.985-9.986a4.555,4.555,0,0,1,6.443,6.441L8.887,30.772A.786.786,0,1,0,10,31.881L19.981,21.9A6.126,6.126,0,0,0,19.887,13.233Z" transform="translate(0 -11.486)" fill="#772e8a" /> </g> </g> </svg>
				Adicionar anexo <span>(opcional)</span>
			</h2>
			<div class="lista_arquivos">
				<div class="item" *ngFor="let row of data.anexos; let i = index">
					{{row.descricao}}
					<button *ngIf="row.nameFile" class="deletar" (click)='removeAnexo(i)'>
						<svg id="Layer_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"> <g> <path d="m424 64h-88v-16c0-26.51-21.49-48-48-48h-64c-26.51 0-48 21.49-48 48v16h-88c-22.091 0-40 17.909-40 40v32c0 8.837 7.163 16 16 16h384c8.837 0 16-7.163 16-16v-32c0-22.091-17.909-40-40-40zm-216-16c0-8.82 7.18-16 16-16h64c8.82 0 16 7.18 16 16v16h-96z" /> <path d="m78.364 184c-2.855 0-5.13 2.386-4.994 5.238l13.2 277.042c1.22 25.64 22.28 45.72 47.94 45.72h242.98c25.66 0 46.72-20.08 47.94-45.72l13.2-277.042c.136-2.852-2.139-5.238-4.994-5.238zm241.636 40c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16z" /> </g> </svg>
					</button>
				</div>
			</div>
			<textarea [(ngModel)]='data.vistoria && data.vistoria.observacao'  [ngModelOptions]="{standalone: true}" cols="30" rows="10" placeholder="Observações da vistoria"></textarea>
		</div>
		<button (click)="salvar()" [attr.data-load]="load ? 'on' : ''" class="salvar">salvar alterações</button>
	</div>
</ion-content>